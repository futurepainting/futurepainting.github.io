<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Future Painting</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="gallery">

  <div class="artwork active">
    <a href="art1.html">
      <img src="art1.jpg">
    </a>
    <div class="info">
      <h2>작품 제목 1</h2>
      <p>천애정 · 2024</p>
    </div>
  </div>

  <div class="artwork">
    <a href="art2.html">
      <img src="art2.jpg">
    </a>
    <div class="info">
      <h2>작품 제목 2</h2>
      <p>천애정 · 2023</p>
    </div>
  </div>

  <div class="artwork">
    <a href="art3.html">
      <img src="art3.jpg">
    </a>
    <div class="info">
      <h2>작품 제목 3</h2>
      <p>천애정 · 2022</p>
    </div>
  </div>

</div>

<script>
  const slides = document.querySelectorAll('.artwork').length
    ? document.querySelectorAll('.artwork')
    : document.querySelectorAll('.art');

  let current = 0;
  let isScrolling = false; // 휠 과도 입력 방지

  function activate(index) {
    slides[current].classList.remove('active');
    current = (index + slides.length) % slides.length;
    slides[current].classList.add('active');
  }

  function activateFromHash() {
    const n = parseInt(location.hash.replace('#', ''), 10);
    if (!isNaN(n) && n >= 1 && n <= slides.length) {
      slides.forEach(s => s.classList.remove('active'));
      current = n - 1;
      slides[current].classList.add('active');
    }
  }

  // 처음 로드될 때 해시 반영
  activateFromHash();
  window.addEventListener('hashchange', activateFromHash);

  // 휠 방향에 따라 이전/다음
  window.addEventListener('wheel', (e) => {
    if (isScrolling) return;

    if (e.deltaY > 0) {
      // 휠 내림 → 다음 작품
      activate(current + 1);
    } else if (e.deltaY < 0) {
      // 휠 올림 → 이전 작품
      activate(current - 1);
    }

    isScrolling = true;
    setTimeout(() => isScrolling = false, 420); // 전환 속도랑 맞추기
  }, { passive: true });
</script>



</body>
</html>










